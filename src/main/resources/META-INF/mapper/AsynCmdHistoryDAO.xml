<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.asyncmd.dao.AsynCmdHistoryDAO">

    <resultMap type="com.asyncmd.model.AsynCmdHistoryDO" id="asynHistoryResultMap">
        <result property="cmdId" column="cmd_id" />
        <result property="cmdType" column="cmd_type"/>
        <result property="content" column="content"/>
        <result property="bizId" column="biz_id"/>
        <result property="createHostname" column="create_hostname"/>
        <result property="createIp" column="create_ip"/>
        <result property="createName" column="create_name"/>
        <result property="executeNum" column="execute_num"/>
        <result property="gmtCreate" column="gmt_create"/>
        <result property="gmtModify" column="gmt_modify"/>
        <result property="nextTime" column="next_time"/>
        <result property="status" column="status"/>
        <result property="updateHostname" column="update_hostname"/>
        <result property="updateIp" column="update_ip"/>
        <result property="successExecuters" column="success_executers"/>

    </resultMap>


    
    
    <insert id="saveCmd" parameterType="com.asyncmd.model.AsynCmdHistoryDO">
        INSERT INTO asyn_cmd_history(cmd_type, content,
          biz_id, create_hostname, create_ip, create_name,execute_num,next_time,status,update_hostname,update_ip,success_executers,gmt_create,gmt_modify)
        VALUES ( #{cmdType}, #{content}, #{bizId},
          #{createHostname}, #{createIp}, #{createName}, #{executeNum},#{nextTime},#{status},#{updateHostname},#{updateIp},#{successExecuters},now(),now())

    </insert>

    <insert id="saveCmdSubTable" parameterType="com.asyncmd.model.AsynCmdHistoryDO">
        INSERT INTO asyn_cmd_history${tableIndex} (cmd_type, content,
          biz_id, create_hostname, create_ip, create_name,execute_num,next_time,status,update_hostname,update_ip,success_executers,gmt_create,gmt_modify)
        VALUES (#{cmdType}, #{content}, #{bizId},
          #{createHostname}, #{createIp}, #{createName}, #{executeNum},#{nextTime},#{status},#{updateHostname},#{updateIp},#{successExecuters},now(),now())

    </insert>

</mapper>